!function(){"use strict";"undefined"==typeof kadenceConversionsConfig&&(window.kadenceConversionsConfig={ajax_url:"",ajax_nonce:"",site_slug:"",gtag:!1,analytics:!0,items:"[]",woocommerce:!1,cartTotal:"",cartProducts:""}),window.kadenceConversions={cache:{},items:JSON.parse(kadenceConversionsConfig.items),wooLiveItems:{},focusableElements:["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],getOffset:function(e){if(e instanceof HTMLElement){var n=e.getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}}return{top:null,left:null}},createCookie:function(e,n,o,i){var t="";if(o){var s=new Date;"minutes"==i?s.setTime(s.getTime()+60*o*1e3):"hours"==i?s.setTime(s.getTime()+60*o*60*1e3):s.setTime(s.getTime()+24*o*60*60*1e3),t="; expires="+s.toGMTString()}document.cookie=e+"="+n+t+"; path=/"},getCookie(e){var n=("; "+document.cookie).split("; "+e+"=");return 2==n.length?n.pop().split(";").shift():""},findOne:(e,n)=>n.some((function(n){return e.indexOf(n)>=0})),conversionExit:function(e){var n=document.getElementById("kadence-conversion-"+e.post_id);if("popup"===e.type&&(window.kadenceConversions.cache.active=null),n){if("popup"===e.type&&(document.removeEventListener("keydown",window.kadenceConversions.cache[e.post_id].exitKeyListener,!1),document.removeEventListener("keydown",window.kadenceConversions.cache[e.post_id].trapFocus,!1)),"banner"===e.type&&e.scrollHide&&(window.removeEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1),window.removeEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1),window.removeEventListener("load",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1)),n.removeEventListener("click",window.kadenceConversions.cache[e.post_id].exitListener,!1),"button"===e.goal){var o=n.querySelectorAll("a");o.length&&o.forEach((function(n){n.removeEventListener("click",window.kadenceConversions.cache[e.post_id].goalListener,!1)}))}else window.document.body.removeEventListener("kb-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1),window.document.body.removeEventListener("kb-advanced-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1);n.classList.add("kc-closing-visible"),e.repeat_control&&!window.kadenceConversions.cache[e.post_id].goal&&e.close_repeat&&window.kadenceConversions.createCookie(e.campaign_id,!0,e.close_repeat,"days"),"banner"===e.type?(e.offset&&"top"===e.offset&&!e.scrollHide?(document.documentElement.style.paddingTop="0px",setTimeout((function(){document.documentElement.classList.remove("kc-banner-top-offset"),window.dispatchEvent(new Event("scroll"))}),350)):e.offset&&"bottom"===e.offset&&(document.documentElement.style.paddingBottom="0px"),setTimeout((function(){n.classList.remove("kc-visible"),n.classList.remove("kc-closing-visible")}),350)):(setTimeout((function(){n.classList.remove("kc-visible")}),350),setTimeout((function(){n.classList.remove("kc-closing-visible")}),400))}},trackConversionConverted:function(e){"true"===kadenceConversionsConfig.gtag&&"function"==typeof gtag&&e.tracking&&gtag("event","conversion_goal",{event_category:"KadenceConversions",event_label:e.post_title,conversion_id:e.post_id}),"true"===kadenceConversionsConfig.analytics&&e.tracking&&(window.kadenceConversions.cache[e.post_id].request=new XMLHttpRequest,window.kadenceConversions.cache[e.post_id].request.open("POST",kadenceConversionsConfig.ajax_url,!0),window.kadenceConversions.cache[e.post_id].request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.kadenceConversions.cache[e.post_id].request.onload=function(){this.status>=200&&this.status<400||(console.log("Converted Tracking Event, status error"),console.log(this.response))},window.kadenceConversions.cache[e.post_id].request.onerror=function(){console.log("Converted Tracking Event, connection error")},window.kadenceConversions.cache[e.post_id].request.send("action=kadence_conversion_converted&nonce="+kadenceConversionsConfig.ajax_nonce+"&campaign_id="+e.campaign_id+"&post_id="+e.post_id+"&type="+e.type+"&goal="+e.goal))},goalListener:function(e){return function(n){var o=!1;"button"===e.goal?(e.goal_class&&n.target.classList.contains(e.goal_class)||n.currentTarget.classList.contains("button")||n.currentTarget.classList.contains("kt-button"))&&(o=!0):("kb-form-success"===n.type||"kb-advanced-form-success"===n.type||"fluentform_submission_success"===n.type||"gform_confirmation_loaded"===n.type)&&(o=!0),o&&(window.kadenceConversions.trackConversionConverted(e),window.kadenceConversions.cache[e.post_id].goal=!0,e.repeat_control&&window.kadenceConversions.createCookie(e.campaign_id,!0,e.convert_repeat,"days"),e.goal_close&&window.kadenceConversions.conversionExit(e))}},exitKeyListener:function(e){return function(n){27===n.keyCode&&(n.preventDefault(),window.kadenceConversions.conversionExit(e))}},exitListener:function(e){return function(n){(n.target.classList.contains("kadence-conversions-close")||"kadence-conversions-close"===n.target.className||e.overlay_close&&"kadence-conversion-overlay"===n.target.className)&&(n.preventDefault(),window.kadenceConversions.conversionExit(e))}},trapFocus:function(e){return function(n){if("Tab"===n.key||9===n.keyCode){var o=document.getElementById("kadence-conversion-"+e.post_id),i=o.querySelectorAll(window.kadenceConversions.focusableElements)[0],t=o.querySelectorAll(window.kadenceConversions.focusableElements),s=t[t.length-1];n.shiftKey?document.activeElement===i&&(s.focus(),n.preventDefault()):document.activeElement===s&&(i.focus(),n.preventDefault())}}},trackConversionTriggered:function(e){"true"===kadenceConversionsConfig.gtag&&"function"==typeof gtag&&e.tracking&&gtag("event","conversion_viewed",{event_category:"KadenceConversions",event_label:e.post_title,conversion_id:e.post_id}),"true"===kadenceConversionsConfig.analytics&&e.tracking&&(window.kadenceConversions.cache[e.post_id].request=new XMLHttpRequest,window.kadenceConversions.cache[e.post_id].request.open("POST",kadenceConversionsConfig.ajax_url,!0),window.kadenceConversions.cache[e.post_id].request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.kadenceConversions.cache[e.post_id].request.onload=function(){this.status>=200&&this.status<400||(console.log("Show Tracking Event, status error"),console.log(this.response))},window.kadenceConversions.cache[e.post_id].request.onerror=function(){},window.kadenceConversions.cache[e.post_id].request.send("action=kadence_conversion_triggered&nonce="+kadenceConversionsConfig.ajax_nonce+"&campaign_id="+e.campaign_id+"&post_id="+e.post_id+"&type="+e.type+"&goal="+e.goal))},triggerConversion:function(e){if("popup"===e.type){if(window.kadenceConversions.cache.active)return;window.kadenceConversions.cache.active=e.post_id}var n=document.getElementById("kadence-conversion-"+e.post_id);if("banner"===e.type&&(e.offset&&"top"===e.offset&&!e.scrollHide?(document.documentElement.classList.add("kc-banner-top-offset"),document.documentElement.style.paddingTop=n.offsetHeight+"px",setTimeout((function(){document.documentElement.style.paddingTop=n.offsetHeight+"px"}),2),(document.querySelector("#main-header .kadence-sticky-header")||document.querySelector("#mobile-header .kadence-sticky-header"))&&(document.documentElement.style.transition="padding 0s",n.style.transition="transform 0s")):e.offset&&"bottom"===e.offset&&(document.documentElement.style.paddingBottom=n.offsetHeight+"px")),n){if(n.classList.add("kc-visible"),window.kadenceConversions.trackConversionTriggered(e),window.kadenceConversions.cache[e.post_id].exitListener=window.kadenceConversions.exitListener(e),window.kadenceConversions.cache[e.post_id].goalListener=window.kadenceConversions.goalListener(e),n.addEventListener("click",window.kadenceConversions.cache[e.post_id].exitListener,!1),"popup"===e.type&&(window.kadenceConversions.cache[e.post_id].exitKeyListener=window.kadenceConversions.exitKeyListener(e),document.addEventListener("keydown",window.kadenceConversions.cache[e.post_id].exitKeyListener,!1)),"popup"===e.type){var o=n.querySelectorAll(window.kadenceConversions.focusableElements)[0];if(o)if(o.classList.contains("button")){var i=n.querySelectorAll(".kadence-conversion-inner")[0];i.setAttribute("tabIndex",0),setTimeout((function(){i.focus()}),600)}else setTimeout((function(){o.focus()}),600);window.kadenceConversions.cache[e.post_id].trapFocus=window.kadenceConversions.trapFocus(e),document.addEventListener("keydown",window.kadenceConversions.cache[e.post_id].trapFocus,!1)}switch(e.goal){case"button":if(e.goal_class)var t=n.querySelectorAll("."+e.goal_class);else t=n.querySelectorAll("a");if(!t.length)return;t.forEach((function(n){n.addEventListener("click",window.kadenceConversions.cache[e.post_id].goalListener,!1)}));break;case"none":break;default:if(n.querySelector("form.frm-fluent-form")&&window.jQuery&&jQuery(n).find("form.frm-fluent-form").on("fluentform_submission_success",(function(n){window.kadenceConversions.cache[e.post_id].goalListener(n)})),n.querySelector(".gform_anchor")&&window.jQuery){var s=n.querySelector(".gform_anchor").id;s=parseInt(s.replace(/\D/g,"")),jQuery(document).on("gform_confirmation_loaded",(function(n,o){s===o&&window.kadenceConversions.cache[e.post_id].goalListener(n)}))}window.document.body.addEventListener("kb-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1),window.document.body.addEventListener("kb-advanced-form-success",window.kadenceConversions.cache[e.post_id].goalListener,!1)}var r=new CustomEvent("kc-trigger-conversion",{bubbles:!0});n.dispatchEvent(r)}},initConversion:function(e,n=!1){if(e.repeat_control&&window.kadenceConversions.getCookie(e.campaign_id))return;if(e.pageViews){var o=parseInt(window.kadenceConversions.getCookie("page-views-"+e.campaign_id),10);if(o||(o=1),e.pageViews>o)return o++,void window.kadenceConversions.createCookie("page-views-"+e.campaign_id,o,1,"days")}if(e.expires){var i=(new Date).getTimezoneOffset()/60*-1,t=new Date;if(Number(e.time_offset)===i)var s=new Date(e.expires);else{var r=i-e.time_offset,c=new Date(e.expires);s=new Date(c.getTime()+60*r*60*1e3)}if((d=s.getTime()-t.getTime())&&d<0)return}if(e.starts){var d;i=(new Date).getTimezoneOffset()/60*-1,t=new Date;if(Number(e.time_offset)===i)var a=new Date(e.starts);else{r=i-e.time_offset;var w=new Date(e.starts);a=new Date(w.getTime()+60*r*60*1e3)}if((d=t.getTime()-a.getTime())&&d<0)return}if(e.recurring_days&&e.recurring_start&&e.recurring_stop){var v=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(t=new Date).getDay()];if(!e.recurring_days.includes(v))return;var l=String(t.getDate()).padStart(2,"0"),u=String(t.getMonth()+1).padStart(2,"0"),f=t.getFullYear()+"-"+u+"-"+l;i=(new Date).getTimezoneOffset()/60*-1;if(Number(e.time_offset)===i){a=new Date(f+" "+e.recurring_start);var k=new Date(f+" "+e.recurring_stop)}else{r=i-e.time_offset,w=new Date(f+" "+e.recurring_start);var p=new Date(f+" "+e.recurring_stop);a=new Date(w.getTime()+60*r*60*1e3),k=new Date(p.getTime()+60*r*60*1e3)}var m=t.getTime()-a.getTime();if(m&&m<0)return;var C=k.getTime()-t.getTime();if(C&&C<0)return}if(e.device&&e.device.length){var g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!e.device.includes("mobile")&&g<767)return;if(!e.device.includes("tablet")&&g>=768&&g<=1024)return;if(!e.device.includes("desktop")&&g>1025)return}if(e.queryStrings&&e.queryStrings.length){var _=!1,L=new URLSearchParams(window.location.search);if(Object.keys(e.queryStrings).forEach((function(n){var o=e.queryStrings[n].split("=");2===o.length&&o[1]===L.get(o[0])&&(_=!0)})),!_)return}if(e.referrer&&e.referrer.length){if(!document.referrer.split("/")[2])return;var h=document.referrer.split("/")[2].replace("www.","");_=!1;if(Object.keys(e.referrer).forEach((function(n){e.referrer[n]===h&&(_=!0)})),!_)return}if(!e.cookieCheck||window.kadenceConversions.getCookie(e.cookieCheck)){if(kadenceConversionsConfig.woocommerce&&e.products){if(!window.kadenceConversions.findOne(kadenceConversionsConfig.cartProducts,e.products))return void(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e));void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.preventProducts){if(window.kadenceConversions.findOne(kadenceConversionsConfig.cartProducts,e.preventProducts))return void(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e));void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.cartMin){if(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e),parseInt(e.cartMin,10)>parseInt(kadenceConversionsConfig.cartTotal,10))return;void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(kadenceConversionsConfig.woocommerce&&e.cartMax){if(void 0===window.kadenceConversions.wooLiveItems[e.post_id]&&(window.kadenceConversions.wooLiveItems[e.post_id]=e),parseInt(e.cartMax,10)<parseInt(kadenceConversionsConfig.cartTotal,10))return;void 0!==window.kadenceConversions.wooLiveItems[e.post_id]&&delete window.kadenceConversions.wooLiveItems[e.post_id]}if(window.kadenceConversions.cache[e.post_id]={},!n)switch(e.trigger){case"exit_intent":window.kadenceConversions.cache[e.post_id].mouseListener=function(n){!n.toElement&&!n.relatedTarget&&n.clientY<10&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("mouseout",window.kadenceConversions.cache[e.post_id].mouseListener,!1))},window.addEventListener("mouseout",window.kadenceConversions.cache[e.post_id].mouseListener,!1);break;case"time":setTimeout((function(){window.kadenceConversions.triggerConversion(e)}),e.delay,e);break;case"scroll":window.kadenceConversions.cache[e.post_id].scrollListener=function(n){if(window.scrollY>=e.scroll&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1),e.scrollHide)){var o=document.getElementById("kadence-conversion-"+e.post_id);window.kadenceConversions.cache[e.post_id].scrollHideListener=function(n){window.scrollY>=e.scroll?o.classList.add("kc-visible"):window.scrollY<e.scroll&&o.classList.contains("kc-visible")&&(o.classList.add("kc-closing-visible"),setTimeout((function(){o.classList.remove("kc-visible"),o.classList.remove("kc-closing-visible")}),350))},window.addEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1),window.addEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1),window.addEventListener("load",window.kadenceConversions.cache[e.post_id].scrollHideListener,!1)}},window.addEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1);break;case"content_end":var y=document.getElementById("kadence-conversion-end-of-content");y&&(window.kadenceConversions.cache[e.post_id].scrollListener=function(n){var o=window.kadenceConversions.getOffset(y).top;window.scrollY>=o-1e3&&(window.kadenceConversions.triggerConversion(e),window.removeEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.removeEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1))},window.addEventListener("resize",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("scroll",window.kadenceConversions.cache[e.post_id].scrollListener,!1),window.addEventListener("load",window.kadenceConversions.cache[e.post_id].scrollListener,!1));break;case"load":window.kadenceConversions.triggerConversion(e)}"link"==e.trigger&&window.kadenceConversions.initLinkConversion(e)}},initLinkConversion:function(e){var n=document.querySelectorAll('[href="#'+e.unique_id+'"]');n.length&&n.forEach((function(n){n.classList.contains("kc-is-initialized")||(n.addEventListener("click",(function(n){n.preventDefault(),window.kadenceConversions.triggerConversion(e)})),n.classList.add("kc-is-initialized"),n.setAttribute("role","button"),n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-controls","#kadence-conversion-"+e.post_id))}))},initConversions:function(){window.kadenceConversions.items&&Object.keys(window.kadenceConversions.items).forEach((function(e){window.kadenceConversions.initConversion(window.kadenceConversions.items[e])}))},reInitConversions:function(){window.kadenceConversions.items&&Object.keys(window.kadenceConversions.items).forEach((function(e){window.kadenceConversions.initConversion(window.kadenceConversions.items[e],!0)}))},initCartWatch:function(){kadenceConversionsConfig.woocommerce&&window.jQuery&&jQuery(document.body).on("added_to_cart",(function(){window.kadenceConversions.initCartUpdate()}))},initCartUpdate:function(){if(0!==Object.keys(window.kadenceConversions.wooLiveItems).length){var e=new XMLHttpRequest;e.open("POST",kadenceConversionsConfig.ajax_url,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);e&&void 0!==e.data.cartTotal&&(kadenceConversionsConfig.cartTotal=e.data.cartTotal,kadenceConversionsConfig.cartProducts=e.data.cartProducts,Object.keys(window.kadenceConversions.wooLiveItems).forEach((function(e){window.kadenceConversions.initConversion(window.kadenceConversions.wooLiveItems[e])})))}},e.onerror=function(){console.log("could not connect")},e.send("action=kadence_conversions_get_updated_cart&nonce="+kadenceConversionsConfig.ajax_nonce)}},init:function(){window.kadenceConversions.initConversions(),window.kadenceConversions.initCartWatch()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadenceConversions.init):window.kadenceConversions.init(),document.addEventListener("kadenceJSInitReload",window.kadenceConversions.reInitConversions),document.addEventListener("kb-query-loaded",window.kadenceConversions.reInitConversions)}();